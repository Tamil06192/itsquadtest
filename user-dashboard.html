<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Dashboard - IT SQUAD</title>
    <link rel="stylesheet" href="style.css">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <style>
        /* Dashboard-specific table adjustments */
        table {
            background: var(--bg-card);
            border-radius: 12px;
            overflow: hidden;
            box-shadow: var(--shadow);
        }

        th,
        td {
            text-align: left;
            padding: 1rem;
            border-bottom: 1px solid var(--border);
        }

        th {
            background-color: var(--bg-body);
            font-weight: 600;
        }

        .status-badge {
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
        }

        .status-open {
            background-color: rgba(14, 165, 233, 0.1);
            color: #0ea5e9;
        }

        .status-pending {
            background-color: rgba(245, 158, 11, 0.1);
            color: #f59e0b;
        }

        .status-closed {
            background-color: rgba(34, 197, 94, 0.1);
            color: #22c55e;
        }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
</head>

<body class="dashboard-page">
    <header>
        <div class="container flex justify-between items-center">
            <a href="index.html" class="logo">
                <i class='bx bx-code-block'></i> IT SQUAD
            </a>
            <nav>
                <ul class="nav-links">
                    <li class="dropdown">
                        <a href="#">Home <i class='bx bx-chevron-down'></i></a>
                        <div class="dropdown-content">
                            <a href="index.html">Home 1</a>
                            <a href="index2.html">Home 2</a>
                        </div>
                    </li>
                    <li><a href="about.html">About</a></li>
                    <li><a href="services.html">Services</a></li>

                    <li class="dropdown">
                        <a href="#" class="active">Dashboard <i class='bx bx-chevron-down'></i></a>
                        <div class="dropdown-content">
                            <a href="user-dashboard.html">User Dashboard</a>
                            <a href="admin-dashboard.html">Admin Dashboard</a>
                        </div>
                    </li>
                    <li><a href="contact.html">Contact</a></li>
                    <li><a href="login.html" class="btn btn-outline" style="padding: 8px 16px;">Login</a></li>
                    <li><a href="register.html" class="btn btn-primary" style="padding: 8px 16px; color: white;">Sign
                            Up</a></li>
                </ul>
            </nav>
            <div class="user-profile flex items-center gap-1">
                <span>John Doe</span>
                <img src="https://ui-avatars.com/api/?name=John+Doe&background=4F46E5&color=fff" alt="User"
                    style="width: 32px; height: 32px; border-radius: 50%;">
            </div>
            <div class="controls" style="display: flex; gap: 0.5rem; align-items: center;">
                <button id="rtl-toggle" class="btn-icon-animate" title="RTL Toggle"><i class='bx bx-globe'></i></button>
                <button id="theme-toggle" class="icon-btn"><i class='bx bx-moon'></i></button>
                <div id="menu-toggle" class="menu-toggle"><i class='bx bx-menu'></i></div>
                <button id="sidebar-toggle" class="btn btn-outline" style="padding: 5px 10px;"><i
                        class='bx bx-menu-alt-right'></i></button>
            </div>
        </div>
    </header>
    <div class="dashboard-container">
        <aside class="sidebar">
            <div class="sidebar-menu"><a href="#" class="active" data-tab="dashboard-tab"><i
                        class='bx bx-grid-alt'></i>Dashboard</a><a href="#" data-tab="new-ticket-tab"><i
                        class='bx bx-plus-circle'></i>New Ticket</a><a href="#" data-tab="history-tab"><i
                        class='bx bx-history'></i>Ticket History</a><a href="#" data-tab="profile-tab"><i
                        class='bx bx-user'></i>Profile</a><a href="#" data-tab="messages-tab"><i
                        class='bx bx-message-rounded-dots'></i>Messages</a><a href="index.html"><i
                        class='bx bx-log-out'></i>Logout</a>
            </div>
        </aside>
        <main class="main-content">
            <!-- Dashboard Tab -->
            <div id="dashboard-tab" class="tab-content">
                <div class="flex justify-between items-center" style="margin-bottom: 2rem;">
                    <h2>My Dashboard</h2><button class="btn btn-primary"
                        onclick="document.querySelector('[data-tab=\'new-ticket-tab\']').click()"><i
                            class='bx bx-plus'></i>New Support Ticket</button>
                </div>
                <!-- Stats -->
                <div class="grid"
                    style="grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1.5rem; margin-bottom: 2rem;">
                    <!-- ... (Existing Stats Cards - Keeping mostly same but ensuring blue tint via style.css
                                changes already made) ... -->
                    <div class="card flex items-center gap-1 bg-subtle-success" style="padding: 1.5rem;">
                        <!-- Minty tint example -->
                        <div
                            style="width: 48px; height: 48px; border-radius: 50%; background: rgba(79, 70, 229, 0.2); display: flex; align-items: center; justify-content: center; color: var(--primary); font-size: 1.5rem;">
                            <i class='bx bx-layer'></i>
                        </div>
                        <div>
                            <div style="font-size: 1.5rem; font-weight: 700;">12</div>
                            <div style="color: var(--text-muted); font-size: 0.9rem;">Total Tickets
                            </div>
                        </div>
                    </div>
                    <div class="card flex items-center gap-1 bg-subtle-warning" style="padding: 1.5rem;">
                        <!-- Amber tint -->
                        <div
                            style="width: 48px; height: 48px; border-radius: 50%; background: rgba(245, 158, 11, 0.2); display: flex; align-items: center; justify-content: center; color: #f59e0b; font-size: 1.5rem;">
                            <i class='bx bx-time'></i>
                        </div>
                        <div>
                            <div style="font-size: 1.5rem; font-weight: 700;">2</div>
                            <div style="color: var(--text-muted); font-size: 0.9rem;">Pending</div>
                        </div>
                    </div>
                    <div class="card flex items-center gap-1 bg-subtle-success" style="padding: 1.5rem;">
                        <!-- Emerald tint -->
                        <div
                            style="width: 48px; height: 48px; border-radius: 50%; background: rgba(34, 197, 94, 0.2); display: flex; align-items: center; justify-content: center; color: #22c55e; font-size: 1.5rem;">
                            <i class='bx bx-check-circle'></i>
                        </div>
                        <div>
                            <div style="font-size: 1.5rem; font-weight: 700;">8</div>
                            <div style="color: var(--text-muted); font-size: 0.9rem;">Resolved</div>
                        </div>
                    </div>
                    <div class="card flex items-center gap-1 bg-subtle-danger" style="padding: 1.5rem;">
                        <!-- Rose tint -->
                        <div
                            style="width: 48px; height: 48px; border-radius: 50%; background: rgba(244, 63, 94, 0.1); display: flex; align-items: center; justify-content: center; color: #f43f5e; font-size: 1.5rem;">
                            <i class='bx bx-message-square-error'></i>
                        </div>
                        <div>
                            <div style="font-size: 1.5rem; font-weight: 700;">1</div>
                            <div style="color: var(--text-muted); font-size: 0.9rem;">Critical</div>
                        </div>
                    </div>
                </div>
                <!-- Interactive Analytics Grid (6 Standardized Charts) -->
                <div class="grid"
                    style="grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem; margin-bottom: 2rem;">
                    <div class="card">
                        <h3>Ticket Volume (Last 6 Months)</h3>
                        <div id="user-volume-chart" style="height: 280px;"></div>
                    </div>
                    <div class="card">
                        <h3>Ticket Distribution</h3>
                        <div id="ticket-dist-chart" style="height: 280px;"></div>
                    </div>
                    <div class="card">
                        <h3>Weekly Resolution Trend</h3>
                        <div id="weekly-resolution-chart" style="height: 280px;"></div>
                    </div>
                    <div class="card">
                        <h3>Request Types</h3>
                        <div id="request-types-chart" style="height: 280px;"></div>
                    </div>
                    <div class="card">
                        <h3>Support Channels</h3>
                        <div id="support-channels-chart" style="height: 280px;"></div>
                    </div>
                    <div class="card">
                        <h3>Satisfaction Score</h3>
                        <div id="satisfaction-score-chart" style="height: 280px;"></div>
                    </div>
                    <!-- New Graphs -->
                    <div class="card">
                        <h3>Knowledge Base Views</h3>
                        <div id="kb-views-chart" style="height: 280px;"></div>
                    </div>
                    <div class="card">
                        <h3>First Response Time</h3>
                        <div id="first-response-chart" style="height: 280px;"></div>
                    </div>
                    <div class="card">
                        <h3>Ticket Priority Breakdown</h3>
                        <div id="priority-breakdown-chart" style="height: 280px;"></div>
                    </div>
                </div>

                <!-- Script for New User Dashboard Charts -->
                <script>
                    document.addEventListener('DOMContentLoaded', function () {
                        // Common Options
                        const commonOptions = {
                            chart: {
                                fontFamily: 'var(--font-main)',
                                toolbar: { show: false },
                                animations: { enabled: true }
                            },
                            grid: { borderColor: 'var(--border)', strokeDashArray: 4 },
                            tooltip: { theme: 'dark' },
                            legend: { position: 'top', labels: { colors: 'var(--text-muted)' } }
                        };

                        // 1. Knowledge Base Views (Bar)
                        const kbOptions = {
                            ...commonOptions,
                            series: [{
                                name: 'Views',
                                data: [45, 52, 38, 24, 33, 26, 21, 20, 6, 8, 15, 10]
                            }],
                            chart: {
                                ...commonOptions.chart,
                                type: 'bar',
                                height: 280
                            },
                            colors: ['#8B5CF6'],
                            plotOptions: {
                                bar: { borderRadius: 4, columnWidth: '60%' }
                            },
                            xaxis: {
                                categories: ['How-to', 'VPN', 'Login', 'Email', 'Printer', 'Software', 'Hardware', 'Mobile', 'Security', 'Network', 'Cloud', 'Other'],
                                labels: { style: { colors: 'var(--text-muted)' } },
                                axisBorder: { show: false },
                                axisTicks: { show: false }
                            },
                            yaxis: {
                                labels: { style: { colors: 'var(--text-muted)' } }
                            }
                        };
                        new ApexCharts(document.querySelector("#kb-views-chart"), kbOptions).render();

                        // 2. First Response Time (Line)
                        const responseOptions = {
                            ...commonOptions,
                            series: [{
                                name: 'Minutes',
                                data: [15, 18, 12, 10, 8, 11, 9]
                            }],
                            chart: {
                                ...commonOptions.chart,
                                type: 'line',
                                height: 280
                            },
                            colors: ['#F59E0B'],
                            stroke: { curve: 'smooth', width: 3 },
                            xaxis: {
                                categories: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
                                labels: { style: { colors: 'var(--text-muted)' } },
                                axisBorder: { show: false },
                                axisTicks: { show: false }
                            },
                            yaxis: {
                                title: { text: 'Minutes', style: { color: 'var(--text-muted)' } },
                                labels: { style: { colors: 'var(--text-muted)' } }
                            },
                            markers: { size: 5, hover: { size: 7 } }
                        };
                        new ApexCharts(document.querySelector("#first-response-chart"), responseOptions).render();

                        // 3. Ticket Priority Breakdown (Stacked Bar)
                        const priorityOptions = {
                            ...commonOptions,
                            series: [{
                                name: 'High',
                                data: [2, 3, 1, 4, 1]
                            }, {
                                name: 'Medium',
                                data: [5, 4, 6, 3, 5]
                            }, {
                                name: 'Low',
                                data: [8, 10, 12, 8, 6]
                            }],
                            chart: {
                                ...commonOptions.chart,
                                type: 'bar',
                                height: 280,
                                stacked: true
                            },
                            colors: ['#F43F5E', '#F59E0B', '#10B981'],
                            xaxis: {
                                categories: ['Week 1', 'Week 2', 'Week 3', 'Week 4', 'Week 5'],
                                labels: { style: { colors: 'var(--text-muted)' } },
                                axisBorder: { show: false },
                                axisTicks: { show: false }
                            },
                            yaxis: {
                                labels: { style: { colors: 'var(--text-muted)' } }
                            },
                            fill: { opacity: 1 }
                        };
                        new ApexCharts(document.querySelector("#priority-breakdown-chart"), priorityOptions).render();
                    });
                </script>
                <!-- Recent Activity -->
                <div style="margin-bottom: 2rem;">
                    <h3>Recent Activity</h3>
                    <div class="card" style="margin-top: 1rem;">
                        <ul style="list-style: none;">
                            <li
                                style="padding: 1rem; border-bottom: 1px solid var(--border); display: flex; gap: 1rem;">
                                <div
                                    style="width: 8px; height: 8px; background: var(--primary); border-radius: 50%; margin-top: 8px;">
                                </div>
                                <div>
                                    <p style="font-weight: 500;">Ticket #1024 updated</p><small
                                        style="color: var(--text-muted);">Agent marked ticket as
                                        'In Progress' - 2 hours ago</small>
                                </div>
                            </li>
                            <li
                                style="padding: 1rem; border-bottom: 1px solid var(--border); display: flex; gap: 1rem;">
                                <div
                                    style="width: 8px; height: 8px; background: var(--secondary); border-radius: 50%; margin-top: 8px;">
                                </div>
                                <div>
                                    <p style="font-weight: 500;">New Login Detected</p><small
                                        style="color: var(--text-muted);">Logged in from Chrome
                                        on Windows - 5 hours ago</small>
                                </div>
                            </li>
                            <li style="padding: 1rem; display: flex; gap: 1rem;">
                                <div
                                    style="width: 8px; height: 8px; background: var(--accent); border-radius: 50%; margin-top: 8px;">
                                </div>
                                <div>
                                    <p style="font-weight: 500;">Password Changed</p><small
                                        style="color: var(--text-muted);">Security alert:
                                        Password was updated successfully - 1 day ago</small>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <!-- New Ticket Tab -->
            <div id="new-ticket-tab" class="tab-content" style="display: none;">
                <h2 style="margin-bottom: 2rem;">Create New Ticket</h2>
                <div class="card bg-subtle-info" style="max-width: 800px; margin: 0 auto;">
                    <!-- Light Indigo Shade -->
                    <form>
                        <div class="form-group"><label class="form-label">Subject</label><input type="text"
                                class="form-control" placeholder="Brief summary of the issue"></div>
                        <div class="grid" style="gap: 1rem;">
                            <div class="form-group"><label class="form-label">Category</label><select
                                    class="form-control">
                                    <option>Hardware</option>
                                    <option>Software</option>
                                    <option>Network</option>
                                    <option>Access/Login</option>
                                    <option>Other</option>
                                </select></div>
                            <div class="form-group"><label class="form-label">Priority</label><select
                                    class="form-control">
                                    <option>Low</option>
                                    <option>Medium</option>
                                    <option>High</option>
                                    <option>Critical</option>
                                </select></div>
                        </div>
                        <div class="form-group"><label class="form-label">Description</label><textarea
                                class="form-control" rows="6"
                                placeholder="Detailed description of the problem..."></textarea></div>
                        <div class="form-group"><label class="form-label">Attachments</label>
                            <div
                                style="border: 2px dashed var(--border); padding: 2rem; text-align: center; border-radius: 8px; background: rgba(255,255,255,0.5);">
                                <i class='bx bx-cloud-upload' style="font-size: 2rem; color: var(--primary);"></i>
                                <p style="color: var(--text-muted);">Drag & drop files here or click to
                                    browse</p>
                            </div>
                        </div>
                        <div class="flex justify-end gap-1"><button type="button"
                                class="btn btn-outline">Cancel</button><button type="submit"
                                class="btn btn-primary">Submit Ticket</button></div>
                    </form>
                </div>
            </div>
            <!-- Ticket History Tab -->
            <div id="history-tab" class="tab-content" style="display: none;">
                <h2 style="margin-bottom: 2rem;">Ticket History</h2>
                <div class="card bg-subtle-info">
                    <!-- Very light slate -->
                    <div class="flex justify-between items-center" style="margin-bottom: 1rem;"><input type="text"
                            placeholder="Search tickets..." class="form-control" style="max-width: 300px;">
                        <div class="flex gap-1"><select class="form-control" style="width: auto;">
                                <option>All Statuses</option>
                                <option>Open</option>
                                <option>Closed</option>
                            </select><button class="btn btn-outline"><i class='bx bx-filter'></i>Filter</button>
                        </div>
                    </div>
                    <div class="table-responsive">
                        <table>
                            <!-- Inner table white for contrast -->
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Subject</th>
                                    <th>Date</th>
                                    <th>Status</th>
                                    <th>Action</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>#1024</td>
                                    <td>VPN Connection Failed</td>
                                    <td>Oct 24,
                                        2024</td>
                                    <td><span class="status-badge status-open">Open</span></td>
                                    <td><a href="#" style="color: var(--primary);">View</a></td>
                                </tr>
                                <tr>
                                    <td>#1023</td>
                                    <td>Software License Renewal</td>
                                    <td>Oct 22,
                                        2024</td>
                                    <td><span class="status-badge status-pending">Pending</span>
                                    </td>
                                    <td><a href="#" style="color: var(--primary);">View</a></td>
                                </tr>
                                <tr>
                                    <td>#1020</td>
                                    <td>Password Reset</td>
                                    <td>Oct 20,
                                        2024</td>
                                    <td><span class="status-badge status-closed">Closed</span></td>
                                    <td><a href="#" style="color: var(--primary);">View</a></td>
                                </tr>
                                <tr>
                                    <td>#1019</td>
                                    <td>Printer Not responding</td>
                                    <td>Oct 19,
                                        2024</td>
                                    <td><span class="status-badge status-closed">Closed</span></td>
                                    <td><a href="#" style="color: var(--primary);">View</a></td>
                                </tr>
                                <tr>
                                    <td>#1015</td>
                                    <td>New Hardware Request</td>
                                    <td>Oct 15,
                                        2024</td>
                                    <td><span class="status-badge status-open">Open</span></td>
                                    <td><a href="#" style="color: var(--primary);">View</a></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="pagination"><a href="#" class="page-link active">1</a><a href="#"
                            class="page-link">2</a><a href="#" class="page-link">3</a></div>
                </div>
            </div>
            <!-- Profile Tab -->
            <div id="profile-tab" class="tab-content" style="display: none;">
                <h2 style="margin-bottom: 2rem;">My Profile</h2>
                <div class="grid" style="grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem;">
                    <div class="card bg-subtle-info" style="text-align: center;">
                        <!-- Light Blue -->
                        <div style="position: relative; display: inline-block; margin-bottom: 1rem;">
                            <img src="https://ui-avatars.com/api/?name=John+Doe&background=4F46E5&color=fff&size=128"
                                alt="User"
                                style="border-radius: 50%; border: 4px solid white; box-shadow: var(--shadow);"><button
                                class="btn btn-primary"
                                style="position: absolute; bottom: 0; right: 0; padding: 4px 8px; border-radius: 50%;"><i
                                    class='bx bx-camera'></i></button>
                        </div>
                        <h3>John Doe</h3>
                        <p style="color: var(--text-muted);">Marketing Specialist</p>
                        <div style="margin-top: 1rem; display: flex; justify-content: center; gap: 0.5rem;">
                            <span class="badge badge-primary">Employee</span><span
                                class="badge badge-secondary">Marketing</span>
                        </div>
                    </div>
                    <div class="card">
                        <h3 style="margin-bottom: 1.5rem;">Edit Profile</h3>
                        <form>
                            <div class="grid" style="grid-template-columns: 1fr 1fr; gap: 1rem;">
                                <div class="form-group"><label class="form-label">First
                                        Name</label><input type="text" class="form-control" value="John"></div>
                                <div class="form-group"><label class="form-label">Last
                                        Name</label><input type="text" class="form-control" value="Doe">
                                </div>
                            </div>
                            <div class="form-group"><label class="form-label">Email
                                    Address</label><input type="email" class="form-control"
                                    value="john.doe@company.com"></div>
                            <div class="form-group"><label class="form-label">Phone Number</label><input type="tel"
                                    class="form-control" value="+1 (555) 123-4567"></div>
                            <button class="btn btn-primary">Save Changes</button>
                        </form>
                    </div>
                </div>
            </div>
            <!-- Messages Tab (New) -->
            <div id="messages-tab" class="tab-content" style="display: none;">
                <h2 style="margin-bottom: 2rem;">My Messages</h2>
                <div class="card" style="padding: 0;">
                    <ul style="list-style: none;">
                        <li style="padding: 1.5rem; border-bottom: 1px solid var(--border); display: flex; gap: 1rem;">
                            <div
                                style="background: rgba(79, 70, 229, 0.1); width: 48px; height: 48px; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: var(--primary);">
                                <i class='bx bx-support' style="font-size: 1.5rem;"></i>
                            </div>
                            <div style="flex: 1;">
                                <div style="display: flex; justify-content: space-between; margin-bottom: 0.25rem;">
                                    <strong>Support Team</strong>
                                    <span style="color: var(--text-muted); font-size: 0.85rem;">2 hours ago</span>
                                </div>
                                <p style="color: var(--text-muted);">Your ticket #1024 has been updated. Please check
                                    the status.</p>
                            </div>
                        </li>
                        <li style="padding: 1.5rem; border-bottom: 1px solid var(--border); display: flex; gap: 1rem;">
                            <div
                                style="background: rgba(16, 185, 129, 0.1); width: 48px; height: 48px; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: var(--success);">
                                <i class='bx bx-check-shield' style="font-size: 1.5rem;"></i>
                            </div>
                            <div style="flex: 1;">
                                <div style="display: flex; justify-content: space-between; margin-bottom: 0.25rem;">
                                    <strong>System Admin</strong>
                                    <span style="color: var(--text-muted); font-size: 0.85rem;">Yesterday</span>
                                </div>
                                <p style="color: var(--text-muted);">Your password was successfully changed. If this
                                    wasn't you, contact us immediately.</p>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </main>
    </div>
    <script src="main.js"></script>
    <script src="rtltoggle.js"></script>
    <div class="sidebar-overlay"></div>
</body>

</html>